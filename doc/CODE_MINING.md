# code mining

*"Code Mining"* - это целевое направление, которое фокусируется на анализе
исходного кода и артефактов кода. Другими словами, "Code Mining" представляет
собой анализ данных для разработки программного обеспечения.

В сравнении с ручным анализ *"Code Mining"* может:
- Осуществлять поиск различных проблем: от неправильных наименований 
  переменных до логических ошибок;
- Указывать на проблемы с точностью до строчки;
- Обрабатывать большой объём программного кода;
- Выполнять анализ в короткий срок;
- Производить автоматический поиск уязвимостей без участия специалиста.

Итак, применим "Code Mining!" Для анализа кода будем использовать 
автоматизированные инструменты статистического анализа "flake8" и "pylint".

### Flake8

*"Flake8"* - это одна из самых популярных утилит для поисков проблем в 
Python, которая объединяет в себе анализатор кода "PyFlakes", 
"Pycodestyle", "Mccabe". Обладает большим количеством проверок, а также 
проста в использовании и в настройке. Отчёт "flake8" отображает 
предупреждения в объединённом выводе по каждому файлу в виде<br/>
___"Адрес файла - номер строки - номер ошибки - описание"___

Утилита устанавливается с помощью одной команды:

pip install flake8

Посмотреть список плагинов можно в репозитории "GitHub" под названием <br/>
_"awesome-flake8-extensions"_. Установим интересующие нас плагины с помощью 
консольной команды ___pip install <название плагина>___:

- flake8-bugbear - для поиска популярных логических ошибок;
- flake8-coding - проверка комментариев;
- naming - проверка наименований на соответствие международному соглашению 
  по написанию кода "PEP8".

Теперь начнём непосредственный анализ используя команду flake8. Введём в 
командную строку ___flake8___ для выполнения операции по всему каталогу 
модели. Если нужно указать конкретный скрипт, добавляем в конец команды 
путь к файлу, например, ___flake8 main.py___

Для более подробного вывода, можно дописать дополнительные опции для 
утилиты:<br/>
___flake8 --statistics --count___<br/>
где ***--statistics*** это подсчёт ошибок по категориям, а ***--count*** - их 
общее количество.


Из-за того, что вышеуказанный инструмент не сохраняет результаты работы в 
json-файле, сохраняем его в формате .txt, просто добавив к концу последней 
команды<br/>
___> result-flake8.log___.


### Pylint

*"Pylint"* - это статистический анализатор кода для Python 2 или 3, который 
анализирует код, не запуская его. В отличие от многих других инструментов, 
данная утилита объединяет в себе возможности стилистического и логического 
анализа кода. Она проверяет наличие ошибок, обеспечивает соблюдение 
стандарта кодирования и делает проверки.

Данный инструмент более мощный и продвинутый, чем его коллега. Он гораздо 
более строк и придирчив, содержит больше рекомендаций и правил. Но есть и 
недостаток - трудно проверить весь каталог модели, если в директории нет 
файла `__init__.py`. В этом случае Pylint не будет проверять 
каталог.


Для запуска работы анализатора используется команда<br/>
***pylint <имя файла>***<br/>
Для более подробного отчёта, допишем команду:<br/>
 ***pylint --report=y имя_файла***

Теперь помимо перечисленных проблем, отчёт показывает:
- **Statistics by type** - статистику по типу;
- **External dependencies** - внешние зависимости;
- **Duplication** - дублирование кода;
- **Messages by category** - распределение ошибок по категориям;
- **% errors / warnings by module** - процентное отношение ошибок;
- **Messages** - количество одинаковых ошибок

Сохраняем отчёт  в формате .txt, просто добавив к концу последней 
команды<br/>
___> result-pylint.log___.


[PEP 263 - Defining Python Source Code Encodings](
https://peps.python.org/pep-0263/)
